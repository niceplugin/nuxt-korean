---
title: í…ŒìŠ¤íŠ¸
description: Nuxt ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•.
navigation.icon: i-lucide-circle-check
---

::tip
ëª¨ë“ˆ ì‘ì„±ìì¸ ê²½ìš°, [ëª¨ë“ˆ ì‘ì„±ì ê°€ì´ë“œ](/docs/guide/going-further/modules#testing)ì—ì„œ ë” êµ¬ì²´ì ì¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
::

NuxtëŠ” `@nuxt/test-utils`ë¥¼ í†µí•´ Nuxt ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì—”ë“œ íˆ¬ ì—”ë“œ ë° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¼ë¥˜ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°ì™€ ì„¤ì •ì„ ëª¨ì•„ë‘” ê²ƒìœ¼ë¡œ, í˜„ì¬ [Nuxt ìì²´ì—ì„œ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸](https://github.com/nuxt/nuxt/tree/main/test)ì™€ ëª¨ë“ˆ ìƒíƒœê³„ ì „ë°˜ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

:video-accordion{title="@nuxt/test-utilsë¡œ ì‹œì‘í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ Alexander Lichterì˜ ì˜ìƒ ë³´ê¸°" videoId="yGzwk9xi9gU"}

## [ì„¤ì¹˜](#installation)

ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ì˜ì¡´ì„±ì„ ì§ì ‘ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡, `@nuxt/test-utils`ëŠ” ë‹¤ì–‘í•œ ì„ íƒì  í”¼ì–´ ì˜ì¡´ì„±ê³¼ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

- ëŸ°íƒ€ì„ Nuxt í™˜ê²½ìœ¼ë¡œ `happy-dom`ê³¼ `jsdom` ì¤‘ì—ì„œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë¡œ `vitest`, `cucumber`, `jest`, `playwright` ì¤‘ì—ì„œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‚´ì¥ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´(ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë¡œ `@playwright/test`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°) `playwright-core`ë§Œ í•„ìš”í•©ë‹ˆë‹¤.

::code-group{sync="pm"}
```bash [npm]
npm i --save-dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
```bash [yarn]
yarn add --dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
```bash [pnpm]
pnpm add -D @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
```bash [bun]
bun add --dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
::

## [ë‹¨ìœ„ í…ŒìŠ¤íŠ¸](#unit-testing)

í˜„ì¬ [Nuxt](https://nuxt.com) ëŸ°íƒ€ì„ í™˜ê²½ì´ í•„ìš”í•œ ì½”ë“œë¥¼ ìœ„í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤. í˜„ì¬ëŠ” _`vitest`ë§Œ ì§€ì›_ í•˜ë©°, ë‹¤ë¥¸ ëŸ°íƒ€ì„ ì¶”ê°€ì— ëŒ€í•œ ê¸°ì—¬ë„ í™˜ì˜í•©ë‹ˆë‹¤.

### [ì„¤ì •](#setup)

1. `@nuxt/test-utils/module`ì„ `nuxt.config` íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤(ì„ íƒ ì‚¬í•­). ì´ ëª¨ë“ˆì€ Nuxt DevToolsì— Vitest í†µí•©ì„ ì¶”ê°€í•˜ì—¬ ê°œë°œ ì¤‘ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

   ```ts twoslash
   export default defineNuxtConfig({
     modules: [
       '@nuxt/test-utils/module'
     ]
   })
   ```

2. ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ `vitest.config.ts` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:

   ```ts twoslash
   import { defineVitestConfig } from '@nuxt/test-utils/config'

   export default defineVitestConfig({
     // í•„ìš”í•œ Vitest ì»¤ìŠ¤í…€ ì„¤ì •
   })
   ```

::tip
vitest ì„¤ì •ì—ì„œ `@nuxt/test-utils`ë¥¼ importí•  ë•Œ, `package.json`ì— `"type": "module"`ì´ ì§€ì •ë˜ì–´ ìˆê±°ë‚˜ vitest ì„¤ì • íŒŒì¼ì˜ ì´ë¦„ì„ ì ì ˆíˆ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.
> ì˜ˆ: `vitest.config.m{ts,js}`.
::

::tip
`.env.test` íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ìš© í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
::

### [Nuxt ëŸ°íƒ€ì„ í™˜ê²½ ì‚¬ìš©í•˜ê¸°](#using-a-nuxt-runtime-environment)

ê¸°ë³¸ì ìœ¼ë¡œ, `@nuxt/test-utils`ëŠ” ê¸°ë³¸ Vitest í™˜ê²½ì„ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì„¸ë°€í•˜ê²Œ ì„ íƒì ìœ¼ë¡œ Nuxt í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ë¥¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í•¨ê»˜ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ íŒŒì¼ ì´ë¦„ì— `.nuxt.`ë¥¼ ì¶”ê°€(ì˜ˆ: `my-file.nuxt.test.ts` ë˜ëŠ” `my-file.nuxt.spec.ts`)í•˜ê±°ë‚˜, í…ŒìŠ¤íŠ¸ íŒŒì¼ì— `@vitest-environment nuxt` ì£¼ì„ì„ ì§ì ‘ ì¶”ê°€í•˜ì—¬ Nuxt í™˜ê²½ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```ts twoslash
   // @vitest-environment nuxt
   import { test } from 'vitest'

   test('my test', () => {
     // ... Nuxt í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸!
   })
   ```

ë˜ëŠ” Vitest ì„¤ì •ì—ì„œ `environment: 'nuxt'`ë¥¼ ì„¤ì •í•˜ì—¬ **ëª¨ë“  í…ŒìŠ¤íŠ¸**ì— Nuxt í™˜ê²½ì„ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts twoslash
// vitest.config.ts
import { fileURLToPath } from 'node:url'
import { defineVitestConfig } from '@nuxt/test-utils/config'

export default defineVitestConfig({
  test: {
    environment: 'nuxt',
    // í•„ìš”ì— ë”°ë¼ Nuxt ì „ìš© í™˜ê²½ ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
    // environmentOptions: {
    //   nuxt: {
    //     rootDir: fileURLToPath(new URL('./playground', import.meta.url)),
    //     domEnvironment: 'happy-dom', // 'happy-dom'(ê¸°ë³¸ê°’) ë˜ëŠ” 'jsdom'
    //     overrides: {
    //       // ì „ë‹¬í•˜ê³  ì‹¶ì€ ë‹¤ë¥¸ Nuxt ì„¤ì •
    //     }
    //   }
    // }
  }
})
```

ê¸°ë³¸ì ìœ¼ë¡œ `environment: 'nuxt'`ë¥¼ ì„¤ì •í•œ ê²½ìš°, í•„ìš”ì— ë”°ë¼ ê° í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ [ê¸°ë³¸ í™˜ê²½](https://vitest.dev/guide/environment.html#test-environment)ì„ _ë¹„í™œì„±í™”(opt out)_ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts twoslash
// @vitest-environment node
import { test } from 'vitest'

test('my test', () => {
  // ... Nuxt í™˜ê²½ ì—†ì´ í…ŒìŠ¤íŠ¸!
})
```

::warning
Nuxt í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´, [`happy-dom`](https://github.com/capricorn86/happy-dom) ë˜ëŠ” [`jsdom`](https://github.com/jsdom/jsdom) í™˜ê²½ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ê¸€ë¡œë²Œ Nuxt ì•±ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤(ì˜ˆ: `app.vue`ì— ì •ì˜í•œ í”ŒëŸ¬ê·¸ì¸ì´ë‚˜ ì½”ë“œ ì‹¤í–‰ í¬í•¨).

ì¦‰, í…ŒìŠ¤íŠ¸ì—ì„œ ê¸€ë¡œë²Œ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•˜ë©°(ë˜ëŠ” í•„ìš”í•˜ë‹¤ë©´ ì´í›„ì— ë°˜ë“œì‹œ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤).
::

### [ğŸ­ ë‚´ì¥ Mock](#built-in-mocks)

`@nuxt/test-utils`ëŠ” DOM í™˜ê²½ì„ ìœ„í•œ ëª‡ ê°€ì§€ ë‚´ì¥ mockì„ ì œê³µí•©ë‹ˆë‹¤.

#### [`intersectionObserver`](#intersectionobserver)

ê¸°ë³¸ê°’ì€ `true`ì´ë©°, IntersectionObserver APIë¥¼ ìœ„í•œ ê¸°ëŠ¥ ì—†ëŠ” ë”ë¯¸ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

#### [`indexedDB`](#indexeddb)

ê¸°ë³¸ê°’ì€ `false`ì´ë©°, [`fake-indexeddb`](https://github.com/dumbmatter/fakeIndexedDB)ë¥¼ ì‚¬ìš©í•˜ì—¬ IndexedDB APIì˜ ë™ì‘í•˜ëŠ” mockì„ ìƒì„±í•©ë‹ˆë‹¤.

ì´ë“¤ì€ `vitest.config.ts` íŒŒì¼ì˜ `environmentOptions` ì„¹ì…˜ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts twoslash
import { defineVitestConfig } from '@nuxt/test-utils/config'

export default defineVitestConfig({
  test: {
    environmentOptions: {
      nuxt: {
        mock: {
          intersectionObserver: true,
          indexedDb: true,
        }
      }
    }
  }
})
```

### [ğŸ› ï¸ í—¬í¼](#helpers)

`@nuxt/test-utils`ëŠ” Nuxt ì•± í…ŒìŠ¤íŠ¸ë¥¼ ë” ì‰½ê²Œ í•´ì£¼ëŠ” ë‹¤ì–‘í•œ í—¬í¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### [`mountSuspended`](#mountsuspended)

`mountSuspended`ëŠ” Nuxt í™˜ê²½ ë‚´ì—ì„œ ì–´ë–¤ Vue ì»´í¬ë„ŒíŠ¸ë“  ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©°, ë¹„ë™ê¸° setupê³¼ Nuxt í”ŒëŸ¬ê·¸ì¸ì—ì„œì˜ ì£¼ì…(injection)ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

::note
ë‚´ë¶€ì ìœ¼ë¡œ `mountSuspended`ëŠ” `@vue/test-utils`ì˜ `mount`ë¥¼ ê°ì‹¸ë¯€ë¡œ, ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ë‚˜ ì‚¬ìš©ë²•ì— ëŒ€í•´ì„œëŠ” [Vue Test Utils ë¬¸ì„œ](https://test-utils.vuejs.org/guide/)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
::

ì˜ˆì‹œ:

```ts twoslash
// @noErrors
import { it, expect } from 'vitest'
import type { Component } from 'vue'
declare module '#components' {
  export const SomeComponent: Component
}
// ---cut---
// tests/components/SomeComponents.nuxt.spec.ts
import { mountSuspended } from '@nuxt/test-utils/runtime'
import { SomeComponent } from '#components'

it('can mount some component', async () => {
    const component = await mountSuspended(SomeComponent)
    expect(component.text()).toMatchInlineSnapshot(
        '"This is an auto-imported component"'
    )
})

```

```ts twoslash
// @noErrors
import { it, expect } from 'vitest'
// ---cut---
// tests/components/SomeComponents.nuxt.spec.ts
import { mountSuspended } from '@nuxt/test-utils/runtime'
import App from '~/app.vue'

// tests/App.nuxt.spec.ts
it('can also mount an app', async () => {
    const component = await mountSuspended(App, { route: '/test' })
    expect(component.html()).toMatchInlineSnapshot(`
      "<div>This is an auto-imported component</div>
      <div> I am a global component </div>
      <div>/</div>
      <a href="/test"> Test link </a>"
    `)
})
```

#### [`renderSuspended`](#rendersuspended)

`renderSuspended`ëŠ” Nuxt í™˜ê²½ ë‚´ì—ì„œ `@testing-library/vue`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–´ë–¤ Vue ì»´í¬ë„ŒíŠ¸ë“  ë Œë”ë§í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©°, ë¹„ë™ê¸° setupê³¼ Nuxt í”ŒëŸ¬ê·¸ì¸ì—ì„œì˜ ì£¼ì…(injection)ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ê¸°ëŠ¥ì€ Testing Libraryì˜ ìœ í‹¸ë¦¬í‹°(ì˜ˆ: `screen`, `fireEvent`)ì™€ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì‚¬ìš©í•˜ë ¤ë©´ í”„ë¡œì íŠ¸ì— [@testing-library/vue](https://testing-library.com/docs/vue-testing-library/intro)ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”.

ë˜í•œ, Testing LibraryëŠ” ì •ë¦¬ë¥¼ ìœ„í•´ í…ŒìŠ¤íŠ¸ ê¸€ë¡œë²Œì— ì˜ì¡´í•©ë‹ˆë‹¤. [Vitest ì„¤ì •](https://vitest.dev/config/#globals)ì—ì„œ ì´ë¥¼ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.

ì „ë‹¬ëœ ì»´í¬ë„ŒíŠ¸ëŠ” `<div id="test-wrapper"></div>` ë‚´ë¶€ì— ë Œë”ë§ë©ë‹ˆë‹¤.

ì˜ˆì‹œ:

```ts twoslash
// @noErrors
import { it, expect } from 'vitest'
import type { Component } from 'vue'
declare module '#components' {
  export const SomeComponent: Component
}
// ---cut---
// tests/components/SomeComponents.nuxt.spec.ts
import { renderSuspended } from '@nuxt/test-utils/runtime'
import { SomeComponent } from '#components'
import { screen } from '@testing-library/vue'

it('can render some component', async () => {
  await renderSuspended(SomeComponent)
  expect(screen.getByText('This is an auto-imported component')).toBeDefined()
})
```

```ts twoslash
// @noErrors
import { it, expect } from 'vitest'
// ---cut---
// tests/App.nuxt.spec.ts
import { renderSuspended } from '@nuxt/test-utils/runtime'
import App from '~/app.vue'

it('can also render an app', async () => {
  const html = await renderSuspended(App, { route: '/test' })
  expect(html).toMatchInlineSnapshot(`
    "<div id="test-wrapper">
      <div>This is an auto-imported component</div>
      <div> I am a global component </div>
      <div>Index page</div><a href="/test"> Test link </a>
    </div>"
  `)
})
```

#### [`mockNuxtImport`](#mocknuxtimport)

`mockNuxtImport`ë¥¼ ì‚¬ìš©í•˜ë©´ Nuxtì˜ ìë™ import ê¸°ëŠ¥ì„ mockí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `useStorage`ë¥¼ mockí•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts twoslash
import { mockNuxtImport } from '@nuxt/test-utils/runtime'

mockNuxtImport('useStorage', () => {
  return () => {
    return { value: 'mocked storage' }
  }
})

// ì—¬ê¸°ì— í…ŒìŠ¤íŠ¸ ì‘ì„±
```

::note
`mockNuxtImport`ëŠ” í…ŒìŠ¤íŠ¸ íŒŒì¼ë‹¹ mockëœ importë§ˆë‹¤ í•œ ë²ˆë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œëŠ” `vi.mock`ìœ¼ë¡œ ë³€í™˜ë˜ëŠ” ë§¤í¬ë¡œì´ë©°, [Vitest ë¬¸ì„œ](https://vitest.dev/api/vi.html#vi-mock)ì—ì„œ ì„¤ëª…í•œ ëŒ€ë¡œ `vi.mock`ì€ í˜¸ì´ìŠ¤íŒ…ë©ë‹ˆë‹¤.
::

í…ŒìŠ¤íŠ¸ë§ˆë‹¤ Nuxt importë¥¼ mockí•˜ê³  ë‹¤ë¥¸ êµ¬í˜„ì„ ì œê³µí•´ì•¼ í•œë‹¤ë©´, [`vi.hoisted`](https://vitest.dev/api/vi.html#vi-hoisted)ë¥¼ ì‚¬ìš©í•´ mockì„ ìƒì„± ë° ë…¸ì¶œí•œ ë’¤, ì´ë¥¼ `mockNuxtImport`ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ mockëœ importì— ì ‘ê·¼í•  ìˆ˜ ìˆê³ , í…ŒìŠ¤íŠ¸ë§ˆë‹¤ êµ¬í˜„ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ê°„ mock ìƒíƒœ ë³€ê²½ì„ ë˜ëŒë¦¬ë ¤ë©´ [mock ë³µì›](https://vitest.dev/api/mock.html#mockrestore)ì„ ê° í…ŒìŠ¤íŠ¸ ì „í›„ì— ë°˜ë“œì‹œ ìˆ˜í–‰í•˜ì„¸ìš”.

```ts twoslash
import { vi } from 'vitest'
import { mockNuxtImport } from '@nuxt/test-utils/runtime'

const { useStorageMock } = vi.hoisted(() => {
  return {
    useStorageMock: vi.fn(() => {
      return { value: 'mocked storage'}
    })
  }
})

mockNuxtImport('useStorage', () => {
  return useStorageMock
})

// ê·¸ëŸ° ë‹¤ìŒ, í…ŒìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ
useStorageMock.mockImplementation(() => {
  return { value: 'something else' }
})
```

#### [`mockComponent`](#mockcomponent)

`mockComponent`ë¥¼ ì‚¬ìš©í•˜ë©´ Nuxtì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ mockí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì²« ë²ˆì§¸ ì¸ìëŠ” PascalCaseì˜ ì»´í¬ë„ŒíŠ¸ ì´ë¦„ì´ê±°ë‚˜, ì»´í¬ë„ŒíŠ¸ì˜ ìƒëŒ€ ê²½ë¡œì…ë‹ˆë‹¤.
ë‘ ë²ˆì§¸ ì¸ìëŠ” mock ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” íŒ©í† ë¦¬ í•¨ìˆ˜ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, `MyComponent`ë¥¼ mockí•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts twoslash
import { mockComponent } from '@nuxt/test-utils/runtime'

mockComponent('MyComponent', {
  props: {
    value: String
  },
  setup(props) {
    // ...
  }
})

// ìƒëŒ€ ê²½ë¡œë‚˜ ë³„ì¹­ë„ ì‚¬ìš© ê°€ëŠ¥
mockComponent('~/components/my-component.vue', async () => {
  // ë˜ëŠ” íŒ©í† ë¦¬ í•¨ìˆ˜
  return defineComponent({
    setup(props) {
      // ...
    }
  })
})

// ë˜ëŠ” SFCë¥¼ ì‚¬ìš©í•´ mock ì»´í¬ë„ŒíŠ¸ë¡œ ë¦¬ë””ë ‰ì…˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
mockComponent('MyComponent', () => import('./MockComponent.vue'))

// ì—¬ê¸°ì— í…ŒìŠ¤íŠ¸ ì‘ì„±
```

> **ì°¸ê³ **: íŒ©í† ë¦¬ í•¨ìˆ˜ ë‚´ì—ì„œ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íŒ©í† ë¦¬ í•¨ìˆ˜ëŠ” í˜¸ì´ìŠ¤íŒ…ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Vue APIë‚˜ ë‹¤ë¥¸ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´, íŒ©í† ë¦¬ í•¨ìˆ˜ ë‚´ì—ì„œ importí•´ì•¼ í•©ë‹ˆë‹¤.

```ts twoslash
import { mockComponent } from '@nuxt/test-utils/runtime'

mockComponent('MyComponent', async () => {
  const { ref, h } = await import('vue')

  return defineComponent({
    setup(props) {
      const counter = ref(0)
      return () => h('div', null, counter.value)
    }
  })
})
```

#### [`registerEndpoint`](#registerendpoint)

`registerEndpoint`ë¥¼ ì‚¬ìš©í•˜ë©´ mock ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” Nitro ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. APIì— ìš”ì²­ì„ ë³´ë‚´ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

ì²« ë²ˆì§¸ ì¸ìëŠ” ì—”ë“œí¬ì¸íŠ¸ ì´ë¦„(ì˜ˆ: `/test/`)ì…ë‹ˆë‹¤.
ë‘ ë²ˆì§¸ ì¸ìëŠ” mock ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” íŒ©í† ë¦¬ í•¨ìˆ˜ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, `/test/` ì—”ë“œí¬ì¸íŠ¸ë¥¼ mockí•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts twoslash
import { registerEndpoint } from '@nuxt/test-utils/runtime'

registerEndpoint('/test/', () => ({
  test: 'test-field'
}))
```

ê¸°ë³¸ì ìœ¼ë¡œ ìš”ì²­ì€ `GET` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•¨ìˆ˜ ëŒ€ì‹  ê°ì²´ë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```ts twoslash
import { registerEndpoint } from '@nuxt/test-utils/runtime'

registerEndpoint('/test/', {
  method: 'POST',
  handler: () => ({ test: 'test-field' })
})
```

> **ì°¸ê³ **: ì»´í¬ë„ŒíŠ¸ ë‚´ ìš”ì²­ì´ ì™¸ë¶€ APIë¡œ ê°€ëŠ” ê²½ìš°, `baseURL`ì„ ì‚¬ìš©í•˜ê³  [Nuxt í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ ì„¤ì •](/docs/getting-started/configuration#environment-overrides) (`$test`)ì„ í†µí•´ ë¹„ì›Œë‘ë©´ ëª¨ë“  ìš”ì²­ì´ Nitro ì„œë²„ë¡œ ê°€ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### [ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸ì™€ì˜ ì¶©ëŒ](#conflict-with-end-to-end-testing)

`@nuxt/test-utils/runtime`ê³¼ `@nuxt/test-utils/e2e`ëŠ” ì„œë¡œ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ê°™ì€ íŒŒì¼ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

`@nuxt/test-utils`ì˜ ì—”ë“œ íˆ¬ ì—”ë“œ ë° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ì„ ëª¨ë‘ ì‚¬ìš©í•˜ë ¤ë©´, í…ŒìŠ¤íŠ¸ë¥¼ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì„¸ìš”. ê·¸ëŸ° ë‹¤ìŒ, íŒŒì¼ë³„ë¡œ íŠ¹ë³„í•œ `// @vitest-environment nuxt` ì£¼ì„ì„ ì‚¬ìš©í•˜ê±°ë‚˜, ëŸ°íƒ€ì„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ íŒŒì¼ ì´ë¦„ì— `.nuxt.spec.ts` í™•ì¥ìë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

`app.nuxt.spec.ts`

```ts twoslash
import { mockNuxtImport } from '@nuxt/test-utils/runtime'

mockNuxtImport('useStorage', () => {
  return () => {
    return { value: 'mocked storage' }
  }
})

```

`app.e2e.spec.ts`

```ts twoslash
import { setup, $fetch } from '@nuxt/test-utils/e2e'

await setup({
  setupTimeout: 10000,
})

// ...
```

### [`@vue/test-utils` ì‚¬ìš©í•˜ê¸°](#using-vuetest-utils)

Nuxtì—ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ `@vue/test-utils`ë§Œ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ê³ , Nuxt ì»´í¬ì €ë¸”, ìë™ import, contextì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ë§Œ í…ŒìŠ¤íŠ¸í•œë‹¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. í•„ìš”í•œ ì˜ì¡´ì„± ì„¤ì¹˜

   ::code-group{sync="pm"}
   ```bash [npm]
   npm i --save-dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ```bash [yarn]
   yarn add --dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ```bash [pnpm]
   pnpm add -D vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ```bash [bun]
   bun add --dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ::

2. ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ `vitest.config.ts` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤:

   ```ts twoslash
   import { defineConfig } from 'vitest/config'
   import vue from '@vitejs/plugin-vue'

   export default defineConfig({
     plugins: [vue()],
     test: {
       environment: 'happy-dom',
     },
   });
   ```

3. `package.json`ì— í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´ ì¶”ê°€

   ```json
   "scripts": {
     "build": "nuxt build",
     "dev": "nuxt dev",
     ...
     "test": "vitest"
   },
   ```

4. ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ ê°„ë‹¨í•œ `<HelloWorld>` ì»´í¬ë„ŒíŠ¸ `components/HelloWorld.vue` ìƒì„±

   ```vue
   <template>
     <p>Hello world</p>
   </template>
   ```

5. ìƒˆë¡œ ë§Œë“  ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ `~/components/HelloWorld.spec.ts` ìƒì„±

   ```ts twoslash
   import { describe, it, expect } from 'vitest'
   import { mount } from '@vue/test-utils'

   import HelloWorld from './HelloWorld.vue'

   describe('HelloWorld', () => {
     it('component renders Hello world properly', () => {
       const wrapper = mount(HelloWorld)
       expect(wrapper.text()).toContain('Hello world')
     })
   })
   ```

6. vitest ëª…ë ¹ì–´ ì‹¤í–‰

   ::code-group{sync="pm"}
   ```bash [npm]
   npm run test
   ```
   ```bash [yarn]
   yarn test
   ```
   ```bash [pnpm]
   pnpm run test
   ```
   ```bash [bun]
   bun run test
   ```
   ::

ì¶•í•˜í•©ë‹ˆë‹¤! ì´ì œ Nuxtì—ì„œ `@vue/test-utils`ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì¦ê±°ìš´ í…ŒìŠ¤íŠ¸ ë˜ì„¸ìš”!

## [ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸](#end-to-end-testing)

ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ [Vitest](https://github.com/vitest-dev/vitest), [Jest](https://jestjs.io), [Cucumber](https://cucumber.io/), [Playwright](https://playwright.dev/)ë¥¼ í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë¡œ ì§€ì›í•©ë‹ˆë‹¤.

### [ì„¤ì •](#setup)

`@nuxt/test-utils/e2e` í—¬í¼ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê° `describe` ë¸”ë¡ì—ì„œ, ì‹œì‘ ì „ì— í…ŒìŠ¤íŠ¸ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

```ts twoslash [test/my-test.spec.ts]
import { describe, test } from 'vitest'
import { setup, $fetch } from '@nuxt/test-utils/e2e'

describe('My test', async () => {
  await setup({
    // í…ŒìŠ¤íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì˜µì…˜
  })

  test('my test', () => {
    // ...
  })
})
```

ë‚´ë¶€ì ìœ¼ë¡œ, `setup`ì€ `beforeAll`, `beforeEach`, `afterEach`, `afterAll`ì—ì„œ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ Nuxt í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.

ì•„ë˜ ì˜µì…˜ì„ `setup` ë©”ì„œë“œì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### [Nuxt ì„¤ì •](#nuxt-config)

- `rootDir`: í…ŒìŠ¤íŠ¸í•  Nuxt ì•±ì´ ìˆëŠ” ë””ë ‰í„°ë¦¬ ê²½ë¡œ.
  - íƒ€ì…: `string`
  - ê¸°ë³¸ê°’: `'.'`
- `configFile`: ì„¤ì • íŒŒì¼ ì´ë¦„.
  - íƒ€ì…: `string`
  - ê¸°ë³¸ê°’: `'nuxt.config'`

<!--
- `config`: ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ ê°ì²´.
  - íƒ€ì…: `NuxtConfig`
  - ê¸°ë³¸ê°’: `{}` -->

#### [íƒ€ì´ë°](#timings)

- `setupTimeout`: `setupTest`ê°€ ì‘ì—…(ë¹Œë“œ ë˜ëŠ” Nuxt ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ íŒŒì¼ ìƒì„± ë“±)ì„ ì™„ë£Œí•˜ëŠ” ë° í—ˆìš©ë˜ëŠ” ì‹œê°„(ë°€ë¦¬ì´ˆ).
  - íƒ€ì…: `number`
  - ê¸°ë³¸ê°’: `60000`

#### [ê¸°ëŠ¥](#features)

- `build`: ë³„ë„ì˜ ë¹Œë“œ ë‹¨ê³„ë¥¼ ì‹¤í–‰í• ì§€ ì—¬ë¶€.
  - íƒ€ì…: `boolean`
  - ê¸°ë³¸ê°’: `true` (`browser` ë˜ëŠ” `server`ê°€ ë¹„í™œì„±í™”ë˜ì—ˆê±°ë‚˜, `host`ê°€ ì œê³µëœ ê²½ìš° `false`)

- `server`: í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ì—ì„œ ìš”ì²­ì— ì‘ë‹µí•  ì„œë²„ë¥¼ ì‹¤í–‰í• ì§€ ì—¬ë¶€.
  - íƒ€ì…: `boolean`
  - ê¸°ë³¸ê°’: `true` (`host`ê°€ ì œê³µëœ ê²½ìš° `false`)

- `port`: ì œê³µëœ ê²½ìš°, ì‹¤í–‰ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì„œë²„ì˜ í¬íŠ¸ë¥¼ í•´ë‹¹ ê°’ìœ¼ë¡œ ì„¤ì •.
  - íƒ€ì…: `number | undefined`
  - ê¸°ë³¸ê°’: `undefined`

- `host`: ì œê³µëœ ê²½ìš°, ìƒˆ ì„œë²„ë¥¼ ë¹Œë“œ ë° ì‹¤í–‰í•˜ëŠ” ëŒ€ì‹  í…ŒìŠ¤íŠ¸ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•  URL. ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ ë¡œì»¬ ì„œë²„ì— ëŒ€í•´ "ì‹¤ì œ" ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤(í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ì„ í¬ê²Œ ë‹¨ì¶•í•  ìˆ˜ ìˆìŒ). ì•„ë˜ [ëŒ€ìƒ í˜¸ìŠ¤íŠ¸ ì—”ë“œ íˆ¬ ì—”ë“œ ì˜ˆì œ](#target-host-end-to-end-example) ì°¸ê³ .
  - íƒ€ì…: `string`
  - ê¸°ë³¸ê°’: `undefined`

- `browser`: ë‚´ë¶€ì ìœ¼ë¡œ Nuxt í…ŒìŠ¤íŠ¸ ìœ í‹¸ì€ [`playwright`](https://playwright.dev)ë¥¼ ì‚¬ìš©í•´ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ ì˜µì…˜ì´ ì„¤ì •ë˜ë©´ ë¸Œë¼ìš°ì €ê°€ ì‹¤í–‰ë˜ë©°, ì´í›„ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ì—ì„œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - íƒ€ì…: `boolean`
  - ê¸°ë³¸ê°’: `false`
- `browserOptions`
  - íƒ€ì…: ë‹¤ìŒ ì†ì„±ì„ ê°€ì§„ `object`
    - `type`: ì‹¤í–‰í•  ë¸Œë¼ìš°ì € íƒ€ì… - `chromium`, `firefox`, `webkit` ì¤‘ í•˜ë‚˜
    - `launch`: ë¸Œë¼ìš°ì € ì‹¤í–‰ ì‹œ playwrightì— ì „ë‹¬í•  ì˜µì…˜ ê°ì²´. [ì „ì²´ API ì°¸ì¡°](https://playwright.dev/docs/api/class-browsertype#browser-type-launch) ì°¸ê³ .
- `runner`: í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ì˜ ëŸ¬ë„ˆ ì§€ì •. í˜„ì¬ëŠ” [Vitest](https://vitest.dev)ê°€ ê¶Œì¥ë©ë‹ˆë‹¤.
  - íƒ€ì…: `'vitest' | 'jest' | 'cucumber'`
  - ê¸°ë³¸ê°’: `'vitest'`

##### [ëŒ€ìƒ `host` ì—”ë“œ íˆ¬ ì—”ë“œ ì˜ˆì œ](#target-host-end-to-end-example)

ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸ì˜ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ëŠ”, í”„ë¡œë•ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ í™˜ê²½ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ë°°í¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë¡œì»¬ ê°œë°œ ë˜ëŠ” ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸ì—ì„œëŠ” ë³„ë„ì˜ ë¡œì»¬ ì„œë²„ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì´ë©°, í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ê°€ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ë‹¤ì‹œ ë¹Œë“œí•˜ëŠ” ê²ƒë³´ë‹¤ ì¼ë°˜ì ìœ¼ë¡œ ë” ë¹ ë¦…ë‹ˆë‹¤.

ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë³„ë„ì˜ ëŒ€ìƒ í˜¸ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´, `setup` í•¨ìˆ˜ì˜ `host` ì†ì„±ì— ì›í•˜ëŠ” URLì„ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤.

```ts twoslash
import { setup, createPage } from '@nuxt/test-utils/e2e'
import { describe, it, expect } from 'vitest'

describe('login page', async () => {
  await setup({
    host: 'http://localhost:8787',
  })

  it('displays the email and password fields', async () => {
    const page = await createPage('/login')
    expect(await page.getByTestId('email').isVisible()).toBe(true)
    expect(await page.getByTestId('password').isVisible()).toBe(true)
  })
})
```

### [API](#apis)

#### [`$fetch(url)`](#fetchurl)

ì„œë²„ ë Œë”ë§ëœ í˜ì´ì§€ì˜ HTMLì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

```ts twoslash
import { $fetch } from '@nuxt/test-utils/e2e'

const html = await $fetch('/')
```

#### [`fetch(url)`](#fetchurl)

ì„œë²„ ë Œë”ë§ëœ í˜ì´ì§€ì˜ ì‘ë‹µì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

```ts twoslash
import { fetch } from '@nuxt/test-utils/e2e'

const res = await fetch('/')
const { body, headers } = res
```

#### [`url(path)`](#urlpath)

ì£¼ì–´ì§„ í˜ì´ì§€ì˜ ì „ì²´ URL(í…ŒìŠ¤íŠ¸ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ í¬íŠ¸ í¬í•¨)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

```ts twoslash
import { url } from '@nuxt/test-utils/e2e'

const pageUrl = url('/page')
// 'http://localhost:6840/page'
```

### [ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ê¸°](#testing-in-a-browser)

`@nuxt/test-utils` ë‚´ì—ì„œ Playwrightë¥¼ ì‚¬ìš©í•œ ë‚´ì¥ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë° ë°©ì‹ ë˜ëŠ” Playwright í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë¥¼ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### [`createPage(url)`](#createpageurl)

`vitest`, `jest`, `cucumber` ë‚´ì—ì„œ, `createPage`ë¡œ ì„¤ì •ëœ Playwright ë¸Œë¼ìš°ì € ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³ (ì„ íƒì ìœ¼ë¡œ) ì‹¤í–‰ ì¤‘ì¸ ì„œë²„ì˜ ê²½ë¡œë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš© ê°€ëŠ¥í•œ API ë©”ì„œë“œì— ëŒ€í•´ì„œëŠ” [Playwright ë¬¸ì„œ](https://playwright.dev/docs/api/class-page)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

```ts twoslash
import { createPage } from '@nuxt/test-utils/e2e'

const page = await createPage('/page')
// `page` ë³€ìˆ˜ì—ì„œ ëª¨ë“  Playwright APIì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
```

#### [Playwright í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸°](#testing-with-playwright-test-runner)

[Playwright í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ](https://playwright.dev/docs/intro) ë‚´ì—ì„œ Nuxt í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¼ë¥˜ ì§€ì›ë„ ì œê³µí•©ë‹ˆë‹¤.

::code-group{sync="pm"}
```bash [npm]
npm i --save-dev @playwright/test @nuxt/test-utils
```
```bash [yarn]
yarn add --dev @playwright/test @nuxt/test-utils
```
```bash [pnpm]
pnpm add -D @playwright/test @nuxt/test-utils
```
```bash [bun]
bun add --dev @playwright/test @nuxt/test-utils
```
::

ì´ì „ ì„¹ì…˜ì—ì„œ ì–¸ê¸‰í•œ `setup()` í•¨ìˆ˜ì™€ ë™ì¼í•œ ì„¤ì • ì„¸ë¶€ ì •ë³´ë¡œ ê¸€ë¡œë²Œ Nuxt ì„¤ì •ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts [playwright.config.ts]
import { fileURLToPath } from 'node:url'
import { defineConfig, devices } from '@playwright/test'
import type { ConfigOptions } from '@nuxt/test-utils/playwright'

export default defineConfig<ConfigOptions>({
  use: {
    nuxt: {
      rootDir: fileURLToPath(new URL('.', import.meta.url))
    }
  },
  // ...
})
```

::read-more{title="ì „ì²´ ì˜ˆì œ ì„¤ì • ë³´ê¸°" to="https://github.com/nuxt/test-utils/blob/main/examples/app-playwright/playwright.config.ts" target="_blank"}
::

í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œëŠ” `@nuxt/test-utils/playwright`ì—ì„œ ì§ì ‘ `expect`ì™€ `test`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:

```ts [tests/example.test.ts]
import { expect, test } from '@nuxt/test-utils/playwright'

test('test', async ({ page, goto }) => {
  await goto('/', { waitUntil: 'hydration' })
  await expect(page.getByRole('heading')).toHaveText('Welcome to Playwright!')
})
```

ë˜ëŠ” í…ŒìŠ¤íŠ¸ íŒŒì¼ ë‚´ì—ì„œ Nuxt ì„œë²„ë¥¼ ì§ì ‘ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```ts [tests/example.test.ts]
import { expect, test } from '@nuxt/test-utils/playwright'

test.use({
  nuxt: {
    rootDir: fileURLToPath(new URL('..', import.meta.url))
  }
})

test('test', async ({ page, goto }) => {
  await goto('/', { waitUntil: 'hydration' })
  await expect(page.getByRole('heading')).toHaveText('Welcome to Playwright!')
})
```
